<div class="login-wrapper">
  <div class="container">
    <h1>Registro</h1>
    <br />
    @if (correctRegistro) {
      <div class="text-success">
        Registro exitoso
      </div>
    }
    <form [formGroup]="registerForm">
      <div class="form-group">
        <label for="exampleInputEmail1">Correo electrónico</label>
        <input
          type="email"
          name="email"
          class="form-control"
          id="exampleInputEmail1"
          aria-describedby="emailHelp"
          placeholder="Introduce el correo"
          formControlName="email"
          [ngClass]="getValidationClass('email')"
        />
        @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
          <div class="text-danger">
            Correo no valido
          </div>
        }
        
      </div>

      <div class="form-group">
        <label for="exampleInputPassword1">Contraseña</label>
        <input
          type="password"
          name="password"
          class="form-control"
          id="exampleInputPassword1"
          placeholder="Contraseña"
          formControlName="password"
          [ngClass]="getValidationClass('password')"
        />
        @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
          <div class="text-danger">
            Password no vàlid
          </div>
        }
      </div>

      <div class="form-group">
        <label for="exampleInputPassword2">Repita Contraseña</label>
        <input
          type="password"
          class="form-control"
          name="password2"
          id="exampleInputPassword2"
          placeholder="Repita Contraseña"
          formControlName="confirm_password"
          [ngClass]="getValidationClass('confirm_password')"
        />
        @if (registerForm.hasError('passwordMismatch') && registerForm.get('confirm_password')?.touched) {
          <div class="text-danger">
            Las contraseñas no coinciden.
          </div>
        }
      </div>

      <br />

      <button
        type="submit"
        class="btn btn-primary"
        (click)="sendRegister()"
        [disabled]="!registerForm.valid"
      >
        Registrarse
      </button>
    </form>
    <div class="mt-3">
      <p>¿Ya tienes una cuenta? <a aria-current="page" [routerLink]="['/login']" routerLinkActive="router-link-active" >Inicia sesión aquí</a></p>
    </div>
  </div>
</div>
